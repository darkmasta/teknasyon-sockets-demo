{"remainingRequest":"/home/eren/Documents/teknasyon/teknasyon-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/eren/Documents/teknasyon/teknasyon-demo/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/eren/Documents/teknasyon/teknasyon-demo/src/components/Login.vue","mtime":1620571343302},{"path":"/home/eren/Documents/teknasyon/teknasyon-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/eren/Documents/teknasyon/teknasyon-demo/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/eren/Documents/teknasyon/teknasyon-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/eren/Documents/teknasyon/teknasyon-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IHFzIGZyb20gInF1ZXJ5c3RyaW5nIjsKCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ2luJywKICBkYXRhOiAoKSA9PiAoewogICAgICBlbWFpbDogJycsCiAgICAgIHBhc3N3b3JkOiAnJwogIH0pLAogIG1ldGhvZHM6IHsKCQlsb2dpblVzZXI6IGZ1bmN0aW9uIChlbWFpbCwgcGFzc3dvcmQpIHsKICAgICAgY29uc3QgcmVxdWVzdEJvZHkgPSB7CiAgICAgICAgdXNlcm5hbWU6IGVtYWlsLAogICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCwKICAgICAgfTsKCiAgICAgIGNvbnNvbGUubG9nKHJlcXVlc3RCb2R5KTsKCiAgICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsCiAgICAgICAgfSwKICAgICAgfTsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgYXhpb3MKICAgICAgICAucG9zdCgKICAgICAgICAgIHByb2Nlc3MuZW52LlZVRV9BUFBfU0VSVkVSX1VSTCArICIvbG9naW4vbG9jYWwiLAogICAgICAgICAgcXMuc3RyaW5naWZ5KHJlcXVlc3RCb2R5KSwKICAgICAgICAgIGNvbmZpZwogICAgICAgICkKICAgICAgICAudGhlbigKICAgICAgICAgIChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAvLyB2YXIgdXNlckRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIkVycm9yIHNpZ25pbmcgaW4iKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICAgIHZtLmVycm9ycyA9IHRydWU7CiAgICAgICAgICAgICAgdm0uJG5vdGlmeSh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgIHRleHQ6ICdMb2dpbiBGYWlsIScKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIHZtLmVycm9yTWVzc2FnZSA9ICJFcnJvciBsb2dnaW5nIGluIjsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhID09ICJzdWNjZXNzIikgewogICAgICAgICAgICAgIHZtLiRub3RpZnkoewogICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgIHRleHQ6ICdMb2dpbiBTdWNjZXNzIScKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge3RoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogIi8iIH0pfSwgMTAwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICAocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgfQogICAgICAgICk7CiAgICB9LAoJCWdvVG9SZWdpc3RlcigpIHsKCQkJdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICcvcmVnaXN0ZXInfSkKCQl9CiAgfQp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div>\n   <h1>Login</h1> \n\n    <b-row>\n        <form>\n            <b-col cols=\"6\" class=\"offset-3 mb-2\">\n                <b-form-group>\n                    <b-input v-model=\"email\" type=\"text\" \n                        placeholder=\"Email\" />\n                </b-form-group>\n            </b-col>\n            <b-col cols=\"6\" class=\"offset-3\">\n                <b-form-group>\n                    <b-input v-model=\"password\" type=\"password\" \n                        placeholder=\"Password\" />\n                </b-form-group>\n            </b-col>\n            <button type=\"button\" @click=\"loginUser(email, password)\" class=\"btn btn-outline-success mt-2\">Login</button>\n        </form>\n    </b-row>\n\n    <b-row>\n        <b-col cols=\"6\" class=\"offset-3\">\n            <button type=\"button\" @click=\"goToRegister\" class=\"btn btn-outline-info mt-2\">Register</button>\n        </b-col>\n    </b-row>\n    \n\n\n\n</div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport qs from \"querystring\";\n\n\nexport default {\n  name: 'Login',\n  data: () => ({\n      email: '',\n      password: ''\n  }),\n  methods: {\n\t\tloginUser: function (email, password) {\n      const requestBody = {\n        username: email,\n        password: password,\n      };\n\n      console.log(requestBody);\n\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n        },\n      };\n      var vm = this;\n      axios\n        .post(\n          process.env.VUE_APP_SERVER_URL + \"/login/local\",\n          qs.stringify(requestBody),\n          config\n        )\n        .then(\n          (response) => {\n            // var userData = response.data;\n            console.log(response.data);\n            if (response.data == \"Error signing in\") {\n              console.log(response);\n              vm.errors = true;\n              vm.$notify({\n                  type: 'error',\n                  text: 'Login Fail!'\n              })\n              vm.errorMessage = \"Error logging in\";\n            } else if (response.data == \"success\") {\n              vm.$notify({\n                  type: 'success',\n                  text: 'Login Success!'\n              })\n              setTimeout(() => {this.$router.push({ path: \"/\" })}, 1000);\n            }\n          },\n          (response) => {\n            console.log(response);\n          }\n        );\n    },\n\t\tgoToRegister() {\n\t\t\tthis.$router.push({path: '/register'})\n\t\t}\n  }\n}\n</script>\n\n<style>\n.login {\n    background: #ccc;\n}\n\n</style>"]}]}